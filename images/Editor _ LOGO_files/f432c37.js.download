(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{421:function(e,t,r){r(8),r(7),r(6),r(10),r(11);var n=r(30),o=r(31);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}e.exports={functional:!0,render:function(e,t){var r=t._c,data=(t._v,t.data),c=t.children,d=void 0===c?[]:c,f=data.class,h=data.staticClass,style=data.style,v=data.staticStyle,m=data.attrs,y=void 0===m?{}:m,w=o(data,["class","staticClass","style","staticStyle","attrs"]);return r("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){n(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[f,h],style:[style,v],attrs:Object.assign({fill:"currentColor",viewBox:"0 0 20 20"},y)},w),d.concat([r("path",{attrs:{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"}})]))}}},446:function(e,t,r){var content=r(488);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(74).default)("3a6f7c2a",content,!0,{sourceMap:!1})},455:function(e,t,r){r(8),r(7),r(6),r(10),r(11);var n=r(30),o=r(31);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}e.exports={functional:!0,render:function(e,t){var r=t._c,data=(t._v,t.data),c=t.children,d=void 0===c?[]:c,f=data.class,h=data.staticClass,style=data.style,v=data.staticStyle,m=data.attrs,y=void 0===m?{}:m,w=o(data,["class","staticClass","style","staticStyle","attrs"]);return r("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){n(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[f,h],style:[style,v],attrs:Object.assign({fill:"currentColor",viewBox:"0 0 20 20"},y)},w),d.concat([r("path",{attrs:{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"}})]))}}},460:function(e,t,r){r(8),r(7),r(6),r(10),r(11);var n=r(30),o=r(31);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}e.exports={functional:!0,render:function(e,t){var r=t._c,data=(t._v,t.data),c=t.children,d=void 0===c?[]:c,f=data.class,h=data.staticClass,style=data.style,v=data.staticStyle,m=data.attrs,y=void 0===m?{}:m,w=o(data,["class","staticClass","style","staticStyle","attrs"]);return r("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){n(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[f,h],style:[style,v],attrs:Object.assign({fill:"currentColor",viewBox:"0 0 20 20"},y)},w),d.concat([r("path",{attrs:{"fill-rule":"evenodd",d:"M4 2a2 2 0 00-2 2v11a3 3 0 106 0V4a2 2 0 00-2-2H4zm1 14a1 1 0 100-2 1 1 0 000 2zm5-1.757l4.9-4.9a2 2 0 000-2.828L13.485 5.1a2 2 0 00-2.828 0L10 5.757v8.486zM16 18H9.071l6-6H16a2 2 0 012 2v2a2 2 0 01-2 2z","clip-rule":"evenodd"}})]))}}},487:function(e,t,r){"use strict";r(446)},488:function(e,t,r){var n=r(73)((function(i){return i[1]}));n.push([e.i,".vc-sketch-presets{display:flex!important;flex-wrap:wrap!important}@media (min-width:640px){.vc-sketch-presets{flex-wrap:nowrap!important}}.vc-sketch-presets-color{margin-right:8px!important}",""]),e.exports=n},495:function(e,t,r){"use strict";var n={components:{Picker:r(551).Sketch},props:{disabled:{type:Boolean,default:!1},property:{type:String,default:""},color:{type:String,default:""}},data:function(){return{presetColors:["#001f3f","#0074d9","#7fdbff","#39cccc","#3d9970","#2ecc40","#01ff70","#ffdc00","#ff851b","#ff4136","#85144b","#f012be","#b10dc9","#111111","#aaaaaa","#FFFFFF"]}},computed:{value:{get:function(){return this.color},set:function(e){var t=e.hex;this.disabled||this.$emit("setColor",t)}}},methods:{onColorChange:function(e){this.disabled||this.$emit("changed",e.hex)}}},o=(r(487),r(5)),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"bg-white rounded-lg overflow-hidden border border-gray-200"},[r("Picker",{staticClass:"w-auto max-w-full h-auto mb-0 shadow-none border-none",attrs:{"disable-alpha":!0,"preset-colors":e.presetColors},on:{input:e.onColorChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),r("div",{staticClass:"p-3 pt-2"},[r("button",{staticClass:"btn btn-secondary w-full",attrs:{type:"button",disabled:e.disabled},on:{click:function(t){return e.$emit("close")}}},[e._v("\n      Close\n    ")])])],1)}),[],!1,null,null,null);t.a=component.exports},496:function(e,t,r){"use strict";var n=r(460),o=r.n(n),l=r(175),c={components:{ColorSwatch:o.a},props:{disabled:{type:Boolean,default:!1},active:{type:Boolean,default:!1},property:{type:String,default:""},color:{type:String,default:""}},computed:{iconColor:function(){return"light"===Object(l.a)(this.color)?"text-black":"text-white"}}},d=r(5),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"btn btn-naked justify-end p-1.5 w-full focus:shadow-primary",class:[{"scale-105 border-2 border-enterprise-primary":e.active},e.iconColor],style:{backgroundColor:e.color},attrs:{disabled:e.disabled},on:{click:function(t){return e.$emit("click",e.property)}}},[e._t("default"),e._v(" "),r("ColorSwatch",{staticClass:"h-6 w-6 transform translate-x-px -translate-y-px"})],2)}),[],!1,null,null,null);t.a=component.exports},548:function(e,t,r){var content=r(620);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(74).default)("3b8d2392",content,!0,{sourceMap:!1})},604:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=[{handle:"White",name:"white",value:"#ffffff"},{handle:"Black",name:"black",value:"#000000"},{handle:"Violet",name:"violet",value:"#7f00ff"},{handle:"Teal",name:"teal",value:"#008080"},{handle:"Orange",name:"orange",value:"#ff7f00"},{handle:"Red",name:"red",value:"#ff0000"},{handle:"Blue",name:"blue",value:"#0000ff"},{handle:"Yellow",name:"yellow",value:"#ffff00"},{handle:"Green",name:"green",value:"#00ff00"},{handle:"Purple",name:"purple",value:"#800080"},{handle:"Greyscale",name:"greyscale",value:"#808080"},{handle:"Pink",name:"pink",value:"#ffc0cb"},{handle:"Brown",name:"brown",value:"#964b00"}]},619:function(e,t,r){"use strict";r(548)},620:function(e,t,r){var n=r(73)((function(i){return i[1]}));n.push([e.i,".preview-svg svg{border-radius:.25rem;width:91.666667%}.logo-element-hover-target{cursor:pointer;stroke-width:2;fill:transparent}.overlay:hover .logo-element-hover-target{--text-opacity:1;color:#d2d6dc;color:rgba(210,214,220,var(--text-opacity));stroke:currentColor;opacity:.25}.logo-element-hover-target:hover{color:var(--color-enterprise-primary,#1890ff)!important;stroke:currentColor!important;opacity:1!important}",""]),e.exports=n},677:function(e,t,r){"use strict";var n=r(1),o=(r(13),r(56)),l=(r(173),r(33),r(17),r(54),r(55),{"coffee-cup":{id:"1",backgroundImageUrl:"/img/coffee-cup-mockup.png",width:550,height:345,overlayX:190,overlayY:75,overlayWidth:160,overlayHeight:100,overlayRotation:0},"business-card":{id:"2",backgroundImageUrl:"/img/business-card-mockup.png",width:550,height:345,overlayX:125,overlayY:97,overlayWidth:300,overlayHeight:150,overlayRotation:0},"t-shirt":{id:"3",backgroundImageUrl:"/img/t-shirt-mockup.png",width:550,height:345,overlayX:165,overlayY:90,overlayWidth:207,overlayHeight:126,overlayRotation:0},preview:{id:"4",width:550,height:345,overlayX:165,overlayY:90,overlayWidth:207,overlayHeight:126,overlayRotation:0}}),c=r(184),d=r(9),f=r(101),h={components:{Watermark:c.a},props:{containerClass:{default:"overlay-container",type:String},shadow:{type:String,default:"border border-gray-100"},handleClickEvents:{type:Boolean,default:!1},transitionDelay:{default:2e3,type:Number},showWatermark:{type:Boolean,default:!1},imageClass:{default:"image",type:String},overlayNames:{required:!0,type:Array},startingIndex:{default:0,type:Number},logoSvg:{required:!0,type:String}},data:function(){return{draw:null,overlays:[],slideshow:!1,slideshowTimer:null,currentWidth:null,backgroundColor:"",index:0,svgjs:null}},computed:{overlay:function(){return this.overlays[this.index]}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(f.b)();case 2:e.svgjs=t.sent,e.index=e.startingIndex,r=e.overlayNames.map((function(e){return l[e]})),e.overlays=e.createOverlays(r),e.overlays.length>1&&(e.slideshow=!0),e.overlays.map((function(e){e.def.backgroundImageUrl&&((new Image).src=e.def.backgroundImageUrl)})),e.slideshow&&(e.slideshowTimer=setInterval((function(){e.incrementIndex()}),e.transitionDelay)),e.$nextTick((function(){e.currentWidth=e.$refs.background.clientWidth,e.overlay.def.backgroundImageUrl||e.drawPreview()}));case 10:case"end":return t.stop()}}),t)})))()},destroyed:function(){clearInterval(this.slideshowTimer)},methods:{createOverlays:function(defs){var e=this;return defs.map((function(t){return{id:e.getRandomId(),def:t,el:null}}))},getRandomId:function(){return Math.random().toString(36).substring(7)},incrementIndex:function(){this.index=++this.index%this.overlays.length,this.$emit("transitioned",this.overlay)},resizeIfNecessary:function(){this.$refs.background&&this.$refs.background.clientWidth!==this.currentWidth&&(this.currentWidth=this.$refs.background.clientWidth,this.drawImage())},drawImage:function(){this.overlay.def.backgroundImageUrl?this.drawOverlay():this.drawPreview()},drawPreview:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,l,c,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$nextTick();case 2:if(e.draw&&e.draw.remove(),r=e.$refs.overlay){t.next=6;break}return t.abrupt("return");case 6:n=e.svgjs(r).size(e.overlay.def.width,e.overlay.def.height),(o=n.group()).svg(e.logoSvg),(l=o.children()[0])||e.$rollbar.info("An undefined logo was rendered, ",{svg:e.logoSvg}),l.width(e.overlay.def.width-0*e.overlay.def.width),n.viewbox(0,0,n.width(),n.height()),e.backgroundColor=l.data("background-color"),n.style({width:"100%",height:"100%"}),n.add(l),o.remove(),c=e.overlay.def.width/2-l.width()/2,d=e.overlay.def.height/2-l.height()/2,l.move(c,d),e.draw=n,e.handleClickEvents&&e.addEventhandlers();case 22:case"end":return t.stop()}}),t)})))()},drawOverlay:function(){var e=this.getRandomId();this.draw&&this.draw.remove();var t=this.$refs.background;if(t)try{this.draw=this.svgjs(this.overlay.id).size(t.clientWidth,t.clientHeight);var r=this.draw.group();r.svg(this.logoSvg);var n=r.children()[0];this.draw.add(n),r.remove();var o=t.clientWidth/this.overlay.def.width,l=t.clientWidth/this.overlay.def.width,c=this.overlay.def.overlayWidth*o,d=this.overlay.def.overlayHeight*l,f=c/n.rbox().width;d/(n.rbox().height*f)<1&&(f=d/n.rbox().height),r.rotate(this.overlay.def.overlayRotation),n.size(c,d),n.move(this.overlay.def.overlayX*o,this.overlay.def.overlayY*l),n.id(e);var h=n.data("background-color");this.backgroundColor=h,this.draw.each((function(){"mask"!==this.parent().type&&("circle"===this.type&&this.attr({stroke:"#222222"}),this.attr("stroke")&&this.attr({stroke:"#222222"}),"none"!==this.attr("fill")&&"transparent"!==this.attr("fill")&&(this.attr("fill")===h?this.attr({fill:"transparent"}):"circle"===this.type?this.attr("stroke")&&this.attr({stroke:"#222222"}):this.attr("fill")&&this.attr({fill:"#222222"}),"circle"===this.type&&this.attr("stroke")&&this.attr({stroke:"#222222"})))}),!0)}catch(e){return}},addEventhandlers:function(){var e=this,t=this.draw.select("#text-0").first(),r=this.draw.select("#text-1").first(),n=this.draw.select("#text-2").first();[{control:"fonts?target=wordmark",target:n?[t,r]:t},{control:"fonts?target=slogan",target:n||r},{control:"icons",target:this.draw.select("#icon-0").first()}].forEach((function(t){var r=t.control,n=t.target;if(n){var o,l,c,f=0;if(Array.isArray(n)){var h=n[1].rbox(e.draw).width,v=n[0].rbox(e.draw);o=v.w,l=v.h,f=v.cy,c=v.x+(o+=h)/2}else{var mask=n.parents("mask")[0],element=n;if(mask&&!(element=e.draw.select('[mask="url(#'.concat(mask.id(),')"]')).first()))return;var m=element.rbox(e.draw);o=m.w,l=m.h,c=m.cx,f=m.cy}var y=e.draw.rect(o+12,l+12).center(c+1,f+1).radius(2.5);y.click((function(){return d.a.$emit(d.b.EditorControlClicked,r)})),y.addClass("logo-element-hover-target")}}))}}},v=(r(619),r(5)),m={components:{Logo:Object(v.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"background",staticClass:"overlay relative",class:e.containerClass,on:{click:function(t){return e.$emit("click",t)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("click",t)}}},[e.showWatermark?r("Watermark",{attrs:{background:e.backgroundColor}}):e._e(),e._v(" "),e.overlay?r("div",{ref:"overlay",staticClass:"preview-svg rounded transition-all duration-300",class:[e.shadow]}):e._e()],1)}),[],!1,null,null,null).exports},props:{originalPalette:{type:Object,default:function(){return{}}},handleClickEvents:{type:Boolean,default:!1},showWatermark:{type:Boolean,default:!1},newPalette:{type:Object,required:!0},setState:{type:Boolean,default:!1},logoSvg:{type:String,required:!0}},data:function(){return{is_loaded:!1,svgjs:null}},computed:{svg:function(){var e=this.svgjs("hidden-recolor-element"),svg=Object(o.h)(e,this.newPalette,this.logoSvg,this.originalPalette);return svg}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(f.b)();case 2:e.svgjs=t.sent,e.$nextTick((function(){return e.is_loaded=!0}));case 4:case"end":return t.stop()}}),t)})))()}},y=Object(v.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.is_loaded?r("Logo",{staticClass:"rounded relative overflow-hidden",attrs:{"traverse-target":"","logo-svg":e.svg,"handle-click-events":e.handleClickEvents,"show-watermark":e.showWatermark,"overlay-names":["preview"]},on:{click:function(t){return e.$emit("select",{palette:e.newPalette,svg:e.svg})}}}):e._e(),e._v(" "),r("div",{staticStyle:{display:"none"},attrs:{id:"hidden-recolor-element"}})],1)}),[],!1,null,null,null);t.a=y.exports},684:function(e,t,r){"use strict";var n=r(496),o=r(495),l=r(16),c={components:{ColorButton:n.a,ColorPicker:o.a},props:{mappedPalette:{type:Array,required:!0},palette:{type:Object,required:!0},logo:{type:Object,required:!0},disabled:{type:Boolean}},data:function(){return{current_property:null,color:null}},computed:Object(l.c)({updating:"editor/loading_overlay_visible"}),methods:{close:function(){this.current_property=null},openColorPicker:function(e){this.current_property=e,this.color=this.palette[this.current_property]},changed:function(e){this.$emit("changed",{property:this.current_property,hex:e})}}},d=r(5),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.current_property?r("ColorPicker",{staticClass:"mb-12",attrs:{color:e.color,disabled:e.disabled||e.updating,property:e.current_property},on:{close:e.close,changed:e.changed,setColor:function(t){e.color=t}}}):e._e(),e._v(" "),e._l(e.mappedPalette,(function(t){return r("div",{key:t.slug,staticClass:"flex justify-between"},[r("span",{staticClass:"font-medium text-cool-gray-500 mr-2 mb-2 capitalize"},[e._v("\n      "+e._s(t.label)+":\n    ")]),e._v(" "),r("span",{staticClass:"w-24"},[r("ColorButton",{staticClass:"mb-2",class:{"opacity-25 cursor-not-allowed":e.disabled},attrs:{disabled:e.disabled||e.updating,color:t.hex,property:t.slug,active:t.slug===e.current_property},on:{click:function(t){return e.openColorPicker(t)}}})],1)])}))],2)}),[],!1,null,null,null);t.a=component.exports},695:function(e,t,r){"use strict";var n=r(421),o=r.n(n),l=r(455),c=r.n(l),d=r(604),f={components:{CircleIcon:o.a,CheckIcon:c.a},props:{selected:{type:String,default:""}},data:function(){return{hues:d.a}}},h=r(5),component=Object(h.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex items-center leading-none"},[e.selected?r("span",{staticClass:"w-6 h-6 mr-1.5 mb-1 cursor-pointer flex-shrink-0 appearance-none focus:outline-none",attrs:{type:"button"},on:{click:function(t){return e.$emit("clear")}}},[r("CircleIcon")],1):e._e(),e._v(" "),r("div",{staticClass:"flex items-center flex-wrap"},e._l(e.hues,(function(t){var n=t.name,o=t.value;return r("span",{key:n,staticClass:"w-9 h-9 mr-1.5 mb-1 p-2 cursor-pointer appearance-none flex items-center justify-center rounded border border-gray-100 focus:outline-none",class:{"border-enterprise-primary":n===e.selected},style:{backgroundColor:o},attrs:{type:"button"},on:{click:function(t){n===e.selected?e.$emit("clear"):e.$emit("select",n)}}},[n===e.selected?r("CheckIcon",{staticClass:"bg-light text-dark rounded-full"}):e._e()],1)})),0)])}),[],!1,null,null,null);t.a=component.exports},697:function(e,t,r){"use strict";var n={mixins:[r(538).a],computed:{value:{get:function(){return this.editor.wordmark_multicolor},set:function(e){this.SET_WORDMARK_MULTICOLOR(e),this.sendEvents("wordmark_multicolor",e)}},disabledMessage:function(){return this.disabled?"This template doesn't support a multi-color business name.":this.supportsMultiColor?null:"This color palette doesn't support a multi-color business name."},disabled:function(){var e,t,r,n;return null===(e=this.editor)||void 0===e||null===(t=e.current_logo)||void 0===t||null===(r=t.assets)||void 0===r||null===(n=r.template)||void 0===n?void 0:n.disable_wordmark_multicolor}}},o=r(5),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.enabled?r("Tippy",{staticClass:"block",attrs:{content:e.disabledMessage,force:!0}},[r("Lightswitch",{attrs:{label:"Multi-color business name",disabled:!!e.disabledMessage,active:e.active},on:{toggle:function(t){e.value=!e.value}}})],1):e._e()}),[],!1,null,null,null);t.a=component.exports},698:function(e,t,r){"use strict";var n={mixins:[r(538).a],computed:{value:{get:function(){return this.editor.slogan_multicolor},set:function(e){this.SET_SLOGAN_MULTICOLOR(e),this.sendEvents("slogan_multicolor",e)}},disabledMessage:function(){return this.disabled?"This template doesn't support a multi-color slogan.":this.hasSlogan?this.supportsMultiColor?null:"This color palette doesn't support a multi-color slogan.":"Set a slogan to use this option."},disabled:function(){var e,t,r,n;return null===(e=this.editor)||void 0===e||null===(t=e.current_logo)||void 0===t||null===(r=t.assets)||void 0===r||null===(n=r.template)||void 0===n?void 0:n.disable_slogan_multicolor}}},o=r(5),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.enabled?r("Tippy",{staticClass:"block",attrs:{content:e.disabledMessage,force:!0}},[r("Lightswitch",{attrs:{disabled:!!e.disabledMessage,label:"Multi-color slogan",active:e.active},on:{toggle:function(t){e.value=!e.value}}})],1):e._e()}),[],!1,null,null,null);t.a=component.exports},929:function(e,t,r){"use strict";r.r(t);r(8),r(7),r(6),r(10),r(11);var n=r(2),o=r(1),l=(r(13),r(15)),c=(r(32),r(20),r(38),r(34),r(84),r(40),r(17),r(697)),d=r(698),f=r(684),h=r(56),v=r(695),m=r(677),y=r(174),w=r(445),_=r.n(w),O=r(604),k=r(597),x=r(16);function j(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var C={components:{WordmarkMulticolor:c.a,SloganMulticolor:d.a,InfiniteLoading:_.a,PalettePreview:m.a,PaletteFields:f.a,ControlTitle:y.a,ColorPreset:v.a,Traverse:k.a},data:function(){return{rendered_palettes:[],original_palette:{},svg_copy:"",finished_loading:!1,is_usable:!1,current_property:null,color:null,colorFilter:null,last_color_input:0,color_input_delay:50,hues:O.a}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?j(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):j(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({filteredPalettes:function(){var filter=this.colorFilter;return Object(l.a)(this.rendered_palettes).filter((function(e){return!filter||!(!e.hues||!e.hues.length)&&e.hues.find((function(e){return e.name===filter}))}))},mappedPalette:function(){return Object(h.e)(this.logo)},disabled:function(){return!this.features.includes("palette")}},Object(x.e)({features:function(e){return e.editor.features},logo:function(e){return e.editor.logo_preset},palettes:function(e){return e.editor.palettes},svg:function(e){return e.editor.logo_preset.svg},palette_hex:function(e){return e.editor.logo_preset.palette_hex},filter_hues:function(e){return e.flags.filter_hues}})),watch:{palette_hex:function(){this.svg_copy||(this.svg_copy=this.logo.svg)}},mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.svg_copy=e.logo.svg,e.original_palette=Object.assign({},e.palette_hex),0!==e.palettes.length){t.next=5;break}return t.next=5,e.$store.dispatch("editor/fetchList","palettes");case 5:e.renderNextPageOfPalettes();case 6:case"end":return t.stop()}}),t)})))()},methods:{handleInfiniteLoadRequest:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.renderNextPageOfPalettes(),t.rendered_palettes.length===t.palettes.length?e.complete():e.loaded(),t.$nextTick().then((function(){return t.$refs.traverse.run()}));case 3:case"end":return r.stop()}}),r)})))()},close:function(){this.current_property=null},openColorPicker:function(e){this.current_property=e,this.color=this.palette_hex[this.current_property]},isSelected:function(e){var t=this.logo.palette_hex;return e.primary===t.primary&&e.secondary===t.secondary&&e.accent===t.accent&&e.background===t.background},handlePaletteSelected:function(e){this.$emit("select",e)},renderNextPageOfPalettes:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=e.rendered_palettes).push.apply(r,Object(l.a)(e.palettes.slice(e.rendered_palettes.length,e.rendered_palettes.length+20)));case 1:case"end":return t.stop()}}),t)})))()},renderPalettes:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.rendered_palettes.push(e[0]),n=function(time){return new Promise((function(e){return setTimeout(e)}),time)},i=1;case 3:if(!(i<e.length)){r.next=11;break}return i>20&&!t.is_usable&&(t.$emit("setUpdating",!1),t.is_usable=!0),r.next=7,n(250);case 7:t.rendered_palettes.push(e[i]);case 8:i++,r.next=3;break;case 11:t.is_usable||(t.is_usable=!0),t.finished_loading=!0,t.$emit("setUpdating",!1);case 14:case"end":return r.stop()}}),r)})))()},fetchLogo:function(){this.$store.dispatch("editor/fetchNewLogoFromState")}}},P=r(5),S=Object(P.a)(C,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pb-4"},[r("div",{staticClass:"mb-8"},[r("ControlTitle",{attrs:{title:"Color Options"}}),e._v(" "),r("div",{staticClass:"space-y-2"},[r("WordmarkMulticolor",{on:{changed:e.fetchLogo}}),e._v(" "),r("SloganMulticolor",{on:{changed:e.fetchLogo}})],1)],1),e._v(" "),e.palette_hex?[r("ControlTitle",{attrs:{title:"Custom Color Palette"}}),e._v(" "),r("PaletteFields",{staticClass:"mb-8",attrs:{id:"palette-inputs",logo:e.logo,disabled:e.disabled,palette:e.palette_hex,"mapped-palette":e.mappedPalette},on:{changed:function(t){return e.$emit("changed",t)}}})]:e._e(),e._v(" "),e.disabled?e._e():[r("ControlTitle",{attrs:{title:"Pick a New Color Theme"}}),e._v(" "),e.filter_hues?r("ColorPreset",{staticClass:"mb-4",attrs:{id:"palette-filters",selected:e.colorFilter},on:{clear:function(t){e.colorFilter=null},select:function(t){e.colorFilter=t}}}):e._e(),e._v(" "),e.svg_copy?r("Traverse",{ref:"traverse",staticClass:"stack",attrs:{id:"palette-results","initial-tabindex":2}},[e._l(e.filteredPalettes,(function(t){return r("PalettePreview",{key:t.id,staticClass:"border-2 border-transparent rounded cursor-pointer transition-all duration-200 transform hover:border-enterprise-primary",class:{"scale-105 border-4 border-enterprise-primary":e.isSelected(t)},attrs:{"new-palette":t,"original-palette":e.original_palette,"logo-svg":e.svg_copy},on:{select:e.handlePaletteSelected}})})),e._v(" "),r("client-only",[r("InfiniteLoading",{attrs:{distance:800},on:{infinite:e.handleInfiniteLoadRequest}},[r("div",{attrs:{slot:"spinner"},slot:"spinner"}),e._v(" "),r("div",{attrs:{slot:"no-more"},slot:"no-more"})])],1)],2):e._e()]],2)}),[],!1,null,null,null).exports,E=r(14),$=r(528);function T(e){var t,r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];clearTimeout(t),t=setTimeout((function(){e.apply(r,l)}),n)}}var R=r(9),I=r(511);function L(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function M(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?L(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):L(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var W={transition:"fade",components:{PaletteSelector:S},mixins:[Object(I.a)([{type:"editor_page",uid:"editor-colors"}]),$.a],data:function(){return{debouncedFetch:null,throttledUpdate:null}},computed:Object(x.e)(["editor","session"]),mounted:function(){var e=this;this.debouncedFetch=T(Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("editor/fetchNewLogoFromState");case 2:case"end":return t.stop()}}),t)}))),200),this.throttledUpdate=T((function(t,r){e.previous_palette=Object.assign({},e.editor.logo_preset.palette_hex),e.$store.commit("editor/SET_PALETTE_PROPERTY",{property:t,value:r})}),75)},methods:M(M({},Object(x.d)({setUpdating:"editor/TOGGLE_LOADING_OVERLAY_VISIBILITY"})),{},{onChangeCustomPalette:function(e){var t=e.property,r=e.hex;this.throttledUpdate(t,r),this.debouncedFetch()},paletteSelect:function(data){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$store.commit("editor/SET_PALETTE_HEX",data.palette),e.$store.commit("editor/SET_LOGO_PRESET_PROPERTY",{id:data.palette.id,resource:E.a.Palettes}),e.previous_palette=data.palette,R.a.$emit(R.b.EcommerceSelectContent,{type:"palette",id:data.palette.id}),t.next=6,e.$store.dispatch("editor/fetchNewLogoFromState");case 6:case"end":return t.stop()}}),t)})))()}})},D=Object(P.a)(W,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.editor.palettes.length>0?r("PaletteSelector",{on:{select:e.paletteSelect,setUpdating:e.setUpdating,changed:e.onChangeCustomPalette}}):e._e(),e._v(" "),r("Tutorial",{attrs:{name:e.tutorialName,steps:e.steps},on:{end:e.finishTutorial}})],1)}),[],!1,null,null,null);t.default=D.exports}}]);